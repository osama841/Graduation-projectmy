<UserControl x:Class="Apps.AdminPanel.Views.SettingsSecurityView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
             xmlns:components="clr-namespace:Apps.AdminPanel.Components"
             mc:Ignorable="d" 
             d:DesignHeight="700" d:DesignWidth="800"
             FlowDirection="RightToLeft">

    <Grid>
        <!-- العنوان الرئيسي -->
        <TextBlock Text="إعدادات النظام" 
                   Foreground="{StaticResource TextPrimary}" 
                   FontSize="26" FontWeight="SemiBold" 
                   HorizontalAlignment="Center" 
                   VerticalAlignment="Top"
                   Margin="0,0,0,20"/>

        <!-- البطاقة الرئيسية -->
        <Border Margin="20,50,20,20"
                BorderBrush="{StaticResource BorderColor}"
                BorderThickness="1"
                CornerRadius="4"
                Background="{StaticResource PanelBackground}">

            <!-- ظل خفيف -->
            <Border.Effect>
                <DropShadowEffect Color="Black" BlurRadius="10" ShadowDepth="2" Opacity="0.15"/>
            </Border.Effect>

            <Grid Margin="40">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <!-- عنوان القسم -->
                <StackPanel Orientation="Horizontal" Margin="0,0,0,30">
                    <Rectangle Width="4" Height="24" Fill="{StaticResource AccentColor}"/>
                    <TextBlock Text="إعدادات الأمان" 
                               Foreground="{StaticResource TextPrimary}" 
                               FontSize="20" FontWeight="Medium" 
                               VerticalAlignment="Center" Margin="10,0,0,0"/>
                </StackPanel>

                <!-- نموذج البيانات -->
                <Grid Grid.Row="1">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="160"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <!-- الصف 1: جدار الحماية -->
                    <TextBlock Grid.Row="0" Grid.Column="0" Text="جدار الحماية" Foreground="{StaticResource TextSecondary}" VerticalAlignment="Center" FontSize="14" Margin="0,0,0,20"/>
                    <StackPanel Grid.Row="0" Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Left" Margin="0,0,0,20">
                        <ToggleButton IsChecked="True" Background="{StaticResource AccentColor}"/>
                        <TextBlock Text="نشط" Foreground="{StaticResource SuccessBrush}" VerticalAlignment="Center" Margin="10,0,0,0" FontSize="12"/>
                    </StackPanel>

                    <!-- الصف 2: تشفير البيانات -->
                    <TextBlock Grid.Row="1" Grid.Column="0" Text="تشفير البيانات" Foreground="{StaticResource TextSecondary}" VerticalAlignment="Center" FontSize="14" Margin="0,0,0,20"/>
                    <StackPanel Grid.Row="1" Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Left" Margin="0,0,0,20">
                        <ToggleButton IsChecked="True" Background="{StaticResource AccentColor}"/>
                        <TextBlock Text="AES-256" Foreground="{StaticResource TextPrimary}" VerticalAlignment="Center" Margin="10,0,0,0" FontSize="12"/>
                    </StackPanel>

                    <!-- الصف 3: المصادقة الثنائية -->
                    <TextBlock Grid.Row="2" Grid.Column="0" Text="المصادقة الثنائية (2FA)" Foreground="{StaticResource TextSecondary}" VerticalAlignment="Center" FontSize="14" Margin="0,0,0,30"/>
                    <StackPanel Grid.Row="2" Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Left" Margin="0,0,0,30">
                        <ToggleButton IsChecked="False" Background="{StaticResource AccentColor}"/>
                        <TextBlock Text="غير مفعل" Foreground="{StaticResource TextMuted}" VerticalAlignment="Center" Margin="10,0,0,0" FontSize="12"/>
                    </StackPanel>

                    <!-- فاصل خفيف -->
                    <Separator Grid.Row="3" Grid.ColumnSpan="2" Background="{StaticResource BorderColor}" Margin="0,0,0,20"/>

                    <!-- الصف 4: تغيير كلمة المرور -->
                    <TextBlock Grid.Row="4" Grid.Column="0" Text="تغيير كلمة المرور" Foreground="{StaticResource TextSecondary}" VerticalAlignment="Center" FontSize="14"/>
                    <!-- نفترض وجود ستايل مشابه لـ TechTextBox في TechPasswordBox -->
                    <components:TechPasswordBox Grid.Row="4" Grid.Column="1" Hint="كلمة المرور الجديدة" Icon="KeyVariant" Margin="0,0,0,15"/>

                    <!-- الصف 5: سجل النشاط -->
                    <TextBlock Grid.Row="5" Grid.Column="0" Text="سجل النشاط الأمني" Foreground="{StaticResource TextSecondary}" VerticalAlignment="Center" FontSize="14"/>
                    <components:TechTextBox Grid.Row="5" Grid.Column="1" Text="تم رصد 3 محاولات دخول ناجحة اليوم" Hint="السجل" Icon="History" Margin="0,0,0,15"
                                            Foreground="{StaticResource TextMuted}" 
                                            Background="{StaticResource ControlBackground}"/>
                </Grid>

                <!-- شريط حالة النظام -->
                <StackPanel Grid.Row="3" Margin="0,20,0,30">
                    <Grid Margin="0,0,0,10">
                        <TextBlock Text="درجة أمان النظام" Foreground="{StaticResource TextPrimary}" HorizontalAlignment="Left"/>
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                            <TextBlock Text="آمن بنسبة " Foreground="{StaticResource TextSecondary}"/>
                            <TextBlock Text="98%" Foreground="{StaticResource SuccessBrush}" FontWeight="Bold"/>
                        </StackPanel>
                    </Grid>

                    <ProgressBar Value="98" Maximum="100" 
                                 Height="8" 
                                 Foreground="{StaticResource SuccessBrush}" 
                                 Background="{StaticResource ControlBackground}" 
                                 BorderThickness="0"/>
                </StackPanel>

                <!-- الأزرار -->
                <StackPanel Grid.Row="4" Orientation="Horizontal" HorizontalAlignment="Right">

                    <components:TechButton Title="حفظ الإعدادات" 
                                           Icon="ShieldCheck" 
                                           Width="180" 
                                           Margin="10,0"
                                           Background="{StaticResource AccentColor}"
                                           HighlightBrush="White"
                                           BorderThickness="0"
                                           Click="BtnSave_Click"/>

                    <components:TechButton Title="استعادة الافتراضي" 
                                           Icon="Restore" 
                                           Width="180" 
                                           Margin="10,0"
                                           Background="Transparent"
                                           BorderBrush="{StaticResource BorderColor}"
                                           BorderThickness="1"
                                           HighlightBrush="{StaticResource ErrorBrush}"
                                           Click="BtnReset_Click"/>
                </StackPanel>

            </Grid>
        </Border>
    </Grid>
</UserControl>