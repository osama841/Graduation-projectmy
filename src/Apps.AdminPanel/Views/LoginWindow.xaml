<Window x:Class="Apps.AdminPanel.Views.LoginWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:components="clr-namespace:Apps.AdminPanel.Components"
        mc:Ignorable="d"
        Title="تسجيل الدخول" Height="600" Width="900"
        WindowStartupLocation="CenterScreen"
        WindowStyle="None"
        ResizeMode="NoResize"
        Background="{StaticResource AppBackground}"
        AllowsTransparency="True"
        FlowDirection="RightToLeft">

    <Grid>
        <!-- خلفية مع صورة وتأثير تعتيم -->
      

        <!-- طبقة تغتيم إضافية لضمان قراءة النصوص -->
        <Rectangle Fill="{StaticResource AppBackground}" Opacity="0.85"/>

        <!-- بطاقة تسجيل الدخول -->
        <Border Width="450" 
                VerticalAlignment="Center" HorizontalAlignment="Center"
                Background="{StaticResource PanelBackground}"
                BorderBrush="{StaticResource BorderColor}"
                BorderThickness="1"
                CornerRadius="4">

            <Border.Effect>
                <DropShadowEffect Color="Black" BlurRadius="20" ShadowDepth="5" Opacity="0.3"/>
            </Border.Effect>

            <Grid Margin="40">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <!-- الشعار/العنوان -->
                    <RowDefinition Height="*"/>
                    <!-- الحقول -->
                    <RowDefinition Height="Auto"/>
                    <!-- الخيارات -->
                    <RowDefinition Height="Auto"/>
                    <!-- زر الدخول -->
                </Grid.RowDefinitions>

                <!-- العنوان -->
                <StackPanel Grid.Row="0" Margin="0,0,0,30" HorizontalAlignment="Center">
                    <Border Width="80" Height="80" CornerRadius="40" Background="{StaticResource AppBackground}" Margin="0,0,0,15">
                        <materialDesign:PackIcon Kind="AccountLock" Width="40" Height="40" Foreground="{StaticResource AccentColor}" VerticalAlignment="Center" HorizontalAlignment="Center"/>
                    </Border>

                    <TextBlock Text="تسجيل الدخول" 
                               Foreground="{StaticResource TextPrimary}" 
                               FontSize="24" 
                               FontWeight="Bold" 
                               HorizontalAlignment="Center"/>

                    <TextBlock Text="يرجى إدخال بيانات الاعتماد للمتابعة" 
                               Foreground="{StaticResource TextSecondary}" 
                               FontSize="14" 
                               HorizontalAlignment="Center" 
                               Margin="0,5,0,0"/>
                </StackPanel>

                <!-- حقول الإدخال -->
                <StackPanel Grid.Row="1" VerticalAlignment="Center">
                    <components:TechTextBox x:Name="TxtUsername"
                                            Hint="اسم المستخدم" 
                                            Icon="AccountOutline"
                                            Height="50"
                                            FontSize="14"
                                            Background="{StaticResource ControlBackground}"
                                            Foreground="{StaticResource TextPrimary}"
                                            Margin="0,0,0,15"/>

                    <!-- ملاحظة: تأكد من أن TechPasswordBox يدعم نفس خصائص الستايل الجديد -->
                    <components:TechPasswordBox x:Name="TxtPassword"
                                                Hint="كلمة المرور" 
                                                Icon="LockOutline"
                                                Height="50"
                                                FontSize="14"
                                                Background="{StaticResource ControlBackground}"
                                                Foreground="{StaticResource TextPrimary}"
                                                Margin="0,0,0,20"/>
                </StackPanel>

                <!-- الخيارات (تذكرني / نسيت كلمة المرور) -->
                <Grid Grid.Row="2" Margin="0,0,0,30">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <CheckBox Grid.Column="0" 
                              Content="تذكرني" 
                              Foreground="{StaticResource TextSecondary}" 
                              Style="{StaticResource MaterialDesignCheckBox}"
                              HorizontalAlignment="Left"/>

                    <TextBlock Grid.Column="1" HorizontalAlignment="Right" VerticalAlignment="Center">
                        <Hyperlink NavigateUri="#" Foreground="{StaticResource AccentColor}" TextDecorations="None" FontWeight="Medium">
                            نسيت كلمة المرور؟
                        </Hyperlink>
                    </TextBlock>
                </Grid>

                <!-- زر الدخول -->
                <components:TechButton Grid.Row="3"
                                       Title="تسجيل الدخول" 
                                       Icon="Login"
                                       Width="250"
                                       Height="50"
                                       Background="{StaticResource AccentColor}"
                                       HighlightBrush="White"
                                       BorderThickness="0"
                                       FontSize="16"
                                       Click="BtnLogin_Click"/>

            </Grid>
        </Border>

        <!-- نص حقوق الملكية في الأسفل -->
        <TextBlock Text="© 2025 جميع الحقوق محفوظة لشركة المستقبل" 
                   VerticalAlignment="Bottom" HorizontalAlignment="Center" 
                   Foreground="{StaticResource TextMuted}" FontSize="12" Margin="0,0,0,20"/>
    </Grid>
</Window>